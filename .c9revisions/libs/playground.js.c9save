{"ts":1345166019747,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Playground = (function () {\r\n    // constructor\r\n    var cls = function () {};\r\n    \r\n    // private \r\n    var vm = require('vm');      \r\n    var baseContext = {\r\n        setTimeout: setTimeout,\r\n        request: require('request')\r\n    };\r\n    \r\n    cls.exec = function (code, callback) {\r\n        \r\n        var initSandbox = baseContext;            \r\n        initSandbox.done = function(offer) {\r\n            callback('Hello Callback\\n');\r\n        };\r\n            \r\n        var context = vm.createContext(initSandbox);\r\n        // cloud9 uses runInThisContext\r\n        try {\r\n            vm.runInContext(code, context); \r\n            setTimeout(function() {\r\n                callback('30 second timeout, make sure to fire done() method.\\n'); \r\n            }, 30000); // 30 second timeout for the script to execute.\r\n        }\r\n        catch(exception) {\r\n            console.error(\"There was an error running the script \", exception);\r\n            callback('Fail: ' + exception + ':::' + Error().stack);\r\n        }\r\n    };\r\n    \r\n    return cls;\r\n})();\r\n\r\nexports.exec = Playground.exec;\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1095}]],"length":1095}
{"contributors":[],"silentsave":false,"ts":1350844113626,"patch":[[{"diffs":[[0,"var "],[-1,"P"],[1,"p"],[0,"laygroun"]],"start1":0,"start2":0,"length1":13,"length2":13},{"diffs":[[0,"equest')"],[1,",\r\n        robot: require('../libs/robot.js')"],[0,"\r\n    };"]],"start1":227,"start2":227,"length1":16,"length2":61},{"diffs":[[0,"ion("],[-1,"offer"],[1,"result"],[0,") {\r"]],"start1":434,"start2":434,"length1":13,"length2":14},{"diffs":[[0,"ack("],[-1,"'Hello Callback\\n'"],[1,"result"],[0,");\r\n"]],"start1":466,"start2":466,"length1":26,"length2":14},{"diffs":[[0,"n);\r\n           "],[1," // full stack\r\n            //"],[0," callback('Fail:"]],"start1":971,"start2":971,"length1":32,"length2":62},{"diffs":[[0,"tion + '"],[1,"\\n\\n"],[0,":::' + E"]],"start1":1043,"start2":1043,"length1":16,"length2":20},{"diffs":[[0,"().stack);\r\n"],[1,"            callback('Fail: ' + exception);\r\n"],[0,"        }\r\n "]],"start1":1067,"start2":1067,"length1":24,"length2":69},{"diffs":[[0,"c = "],[-1,"P"],[1,"p"],[0,"layg"]],"start1":1186,"start2":1186,"length1":9,"length2":9}]],"length":1208,"saved":false}
