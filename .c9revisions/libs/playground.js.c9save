{"ts":1345166019747,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Playground = (function () {\r\n    // constructor\r\n    var cls = function () {};\r\n    \r\n    // private \r\n    var vm = require('vm');      \r\n    var baseContext = {\r\n        setTimeout: setTimeout,\r\n        request: require('request')\r\n    };\r\n    \r\n    cls.exec = function (code, callback) {\r\n        \r\n        var initSandbox = baseContext;            \r\n        initSandbox.done = function(offer) {\r\n            callback('Hello Callback\\n');\r\n        };\r\n            \r\n        var context = vm.createContext(initSandbox);\r\n        // cloud9 uses runInThisContext\r\n        try {\r\n            vm.runInContext(code, context); \r\n            setTimeout(function() {\r\n                callback('30 second timeout, make sure to fire done() method.\\n'); \r\n            }, 30000); // 30 second timeout for the script to execute.\r\n        }\r\n        catch(exception) {\r\n            console.error(\"There was an error running the script \", exception);\r\n            callback('Fail: ' + exception + ':::' + Error().stack);\r\n        }\r\n    };\r\n    \r\n    return cls;\r\n})();\r\n\r\nexports.exec = Playground.exec;\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1095}]],"length":1095}
