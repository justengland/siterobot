{"ts":1344899920634,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\r\n * Setup the webserver.\r\n * Using the express webframework, and ejs templating.\r\n * I am trying to follow the MVC pattern.\r\n */\r\n \r\nvar express = require('express'); \r\nvar app = module.exports = express(); \r\n// Configuration\r\n\r\napp.configure(function(){\r\n  app.enable(\"jsonp callback\");\r\n  \r\n  app.set('views', __dirname + '/views');\r\n  app.set('view engine', 'ejs');\r\n  \r\n  app.use(express.bodyParser());\r\n  app.use(express.methodOverride());\r\n  app.use(express.static(__dirname + '/public'));\r\n  app.use(app.router);  \r\n}); \r\n\r\napp.configure('development', function(){\r\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); \r\n});\r\n\r\napp.configure('production', function(){\r\n  app.use(express.errorHandler()); \r\n});\r\n\r\n/**\r\n * Route Section\r\n */\r\n// Base Route\r\napp.get('/', function(req, res){\r\n  res.send('Welcome to Site Robot');\r\n});\r\n\r\napp.get('/debug', function(req, res){\r\n    var controller = require('./controllers/debugController.js');\r\n    controller.loadModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.post('/debug', function(req, res){\r\n    var controller = require('./controllers/debugController.js');\r\n    controller.loadModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\n\r\n/**\r\n * Start Web Server\r\n */\r\nvar port = process.env.PORT || 3000;\r\napp.listen(port);\r\nconsole.log(\"Express server listening on: \" + port);"]],"start1":0,"start2":0,"length1":0,"length2":1462}]],"length":1462}
{"contributors":[],"silentsave":false,"ts":1350752617966,"patch":[[{"diffs":[[0,"/**"],[-1,""],[0,""],[1,"****************************************************************************"],[0,"\r\n * Setup t"]],"start1":0,"start2":0,"length1":15,"length2":91},{"diffs":[[0,"ss')"],[-1,"; \r\nvar"],[1,",\r\n   "],[0," app"]],"start1":241,"start2":241,"length1":15,"length2":14},{"diffs":[[0,"xpress()"],[-1,";"],[1,",\r\n    templateContainer = require('./libs/templateContainer.js');\r\n   "],[0," \r\n// Co"]],"start1":276,"start2":276,"length1":17,"length2":87},{"diffs":[[0,"er);  \r\n"],[1,"  \r\n  // load the express-partials middleware\r\n  // app.use(partials());\r\n  templateContainer.setDirname(__dirname);\r\n"],[0,"}); \r\n\r\n"]],"start1":664,"start2":664,"length1":16,"length2":134},{"diffs":[[0,"\r\n});\r\n\r\n/**"],[-1,""],[0,""],[1,"****************************************************************************"],[0,"\r\n * Route S"]],"start1":1001,"start2":1001,"length1":24,"length2":100},{"diffs":[[0,"');\r\n});\r\n\r\n"],[1,"app.get('/demo', function(req, res){\r\n    res.render(\"twoColumn.ejs\", templateContainer.setDemo());\r\n});\r\n\r\n"],[0,"app.get('/de"]],"start1":1196,"start2":1196,"length1":24,"length2":132},{"diffs":[[0,"\n});\r\n\r\n"],[-1,"\r\n/"],[1,"app.get('/robot', function(req, res){\r\n    var controller = require('./controllers/robotController.js');\r\n    controller.loadPassModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.get('/robot/fail', function(req, res){\r\n    var controller = require('./controllers/robotController.js');\r\n    controller.loadFailModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.get('/robot/pass', function(req, res){\r\n    var controller = require('./controllers/robotController.js');\r\n    controller.loadPassModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.get('/robot/test-run', function(req, res){\r\n    var controller = require('./controllers/robotController.js');\r\n    controller.loadTestRunModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.get('/robot/i', function(req, res){\r\n    var controller = require('./controllers/robotController.js');\r\n    controller.loadIModel(req, function(model) {  \r\n        res.render(model.bodyTemplate, model);\r\n    });    \r\n});\r\n\r\napp.get('/test-results', function(req, res) {    \r\n    var controller = require('./controllers/testResultsController.js');    \r\n    var template = templateContainer.load();\r\n    controller.loadTestResults(template, req, function(resultTemplate) {  \r\n        res.render(resultTemplate.page.bodyTemplate, resultTemplate);\r\n    });    \r\n});\r\n\r\napp.get('/editor/create', function(req, res) {    \r\n    var controller = require('./controllers/editorController.js');    \r\n    var template = templateContainer.load();\r\n    controller.loadTestResults(template, req, function(resultTemplate) {  \r\n        res.render(resultTemplate.page.bodyTemplate, resultTemplate);\r\n    });    \r\n});\r\n\r\n/****************************************************************************"],[0,"**\r\n * S"]],"start1":1759,"start2":1759,"length1":19,"length2":1937}]],"length":3827,"saved":false}
{"ts":1350753467471,"patch":[[{"diffs":[[0," controller."],[-1,"loadTestResults"],[1,"create"],[0,"(template, r"]],"start1":3447,"start2":3447,"length1":39,"length2":30}]],"length":3818,"saved":false}
{"ts":1350753569132,"patch":[[{"diffs":[[0,"ller.js');    \r\n"],[1,"//"],[0,"    var template"]],"start1":3382,"start2":3382,"length1":32,"length2":34},{"diffs":[[0,"tainer.load();\r\n"],[1,"//"],[0,"    controller.c"]],"start1":3430,"start2":3430,"length1":32,"length2":34},{"diffs":[[0,"tTemplate) {  \r\n"],[1,"//"],[0,"        res.rend"]],"start1":3499,"start2":3499,"length1":32,"length2":34},{"diffs":[[0,"sultTemplate);\r\n"],[1,"//"],[0,"    });    \r\n});"]],"start1":3572,"start2":3572,"length1":32,"length2":34}]],"length":3826,"saved":false}
{"ts":1350753844033,"patch":[[{"diffs":[[0,"});    \r\n});\r\n\r\n"],[1,"//"],[0,"app.get('/editor"]],"start1":3258,"start2":3258,"length1":32,"length2":34},{"diffs":[[0,"eq, res) {    \r\n"],[1,"//"],[0,"    var controll"]],"start1":3312,"start2":3312,"length1":32,"length2":34},{"diffs":[[0,"\n//    });    \r\n"],[1,"//"],[0,"});\r\n\r\n/********"]],"start1":3591,"start2":3591,"length1":32,"length2":34}]],"length":3832,"saved":false}
{"ts":1350753855200,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"//app.get('/editor/create', function(req, res) {    \r\n//    var controller = require('./controllers/editorController.js');    \r\n//    var template = templateContainer.load();\r\n//    controller.create(template, req, function(resultTemplate) {  \r\n//        res.render(resultTemplate.page.bodyTemplate, resultTemplate);\r\n//    });    \r\n//});\r\n\r\n"],[0,"/***"]],"start1":3270,"start2":3270,"length1":350,"length2":8}]],"length":3490,"saved":false}
{"ts":1350755345058,"patch":[[{"diffs":[[0,"});    \r\n});\r\n\r\n"],[1,"//app.get('/editor/create', function(req, res) {    \r\n//    var controller = require('./controllers/editorController.js');    \r\n//    var template = templateContainer.load();\r\n//    controller.create(template, req, function(resultTemplate) {  \r\n//        res.render(resultTemplate.page.bodyTemplate, resultTemplate);\r\n//    });    \r\n//});\r\n\r\n"],[0,"/***************"]],"start1":3258,"start2":3258,"length1":32,"length2":374}]],"length":3832,"saved":false}
{"ts":1350755401939,"patch":[[{"diffs":[[0,"nv.PORT "],[1,"+ 1"],[0,"|| 3000;"]],"start1":3743,"start2":3743,"length1":16,"length2":19}]],"length":3835,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350758298437,"patch":[[{"diffs":[[0,"ORT "],[-1,"+ 1"],[0,"|| 3"]],"start1":3747,"start2":3747,"length1":11,"length2":8}]],"length":3832,"saved":false}
{"ts":1350758391050,"patch":[[{"diffs":[[0,"\n});\r\n\r\n"],[-1,"//"],[0,"app.get("]],"start1":3266,"start2":3266,"length1":18,"length2":16},{"diffs":[[0,"res) {    \r\n"],[-1,"//"],[0,"    var cont"]],"start1":3314,"start2":3314,"length1":26,"length2":24},{"diffs":[[0,".js');    \r\n"],[-1,"//"],[0,"    var temp"]],"start1":3386,"start2":3386,"length1":26,"length2":24},{"diffs":[[0,"er.load();\r\n"],[-1,"//"],[0,"    controll"]],"start1":3432,"start2":3432,"length1":26,"length2":24},{"diffs":[[0,"e) {  \r\n"],[-1,"//"],[0,"        "]],"start1":3503,"start2":3503,"length1":18,"length2":16},{"diffs":[[0,"late);\r\n"],[-1,"//"],[0,"    }); "]],"start1":3574,"start2":3574,"length1":18,"length2":16},{"diffs":[[0,");    \r\n"],[-1,"//"],[0,"});\r\n\r\n/"]],"start1":3587,"start2":3587,"length1":18,"length2":16}]],"length":3818,"saved":false}
